# Settings for ros_control control loop
hardware_control_loop:
   loop_hz: &loop_hz 500
   
   
gripper_controller_pos:
  type: position_controllers/JointTrajectoryController
  joints:
     - robotiq_85_left_knuckle_joint
  constraints:
      goal_time: 0.6
      stopped_velocity_tolerance: 0.05
      finger_joint: {trajectory: 0.01, goal: 0.01}
  stop_trajectory_duration: 0.5
  state_publish_rate:  *loop_hz
  action_monitor_rate: 20
  
  
  # Gripper controller
gripper_controller_gripperaction:
  type: position_controllers/GripperActionController
  joint: robotiq_85_left_knuckle_joint
  action_monitor_rate: 20
  goal_tolerance: 0.002
  max_effort: 10000
  stall_velocity_threshold: 0.001
  stall_timeout: 1.0
  
   # Note: You MUST load these PID parameters for all joints that are using the
# PositionJointInterface, otherwise the arm + gripper will act like a giant
# parachute, counteracting gravity, and causing some of the wheels to lose
# contact with the ground, so the robot won't be able to properly navigate. See
# https://github.com/ros-simulation/gazebo_ros_pkgs/issues/612

gazebo_ros_control: 
  pid_gains: 
    robotiq_85_left_finger_tip_joint: 
      antiwindup: false
      d: 0.0
      i: 0.1
      i_clamp: 0.2
      p: 20.0
      publish_state: true
    robotiq_85_left_inner_knuckle_joint: 
      antiwindup: false
      d: 0.0
      i: 0.1
      i_clamp: 0.2
      p: 20.0
      publish_state: true
    robotiq_85_left_knuckle_joint: 
      antiwindup: false
      d: 0.0
      i: 0.1
      i_clamp: 0.2
      p: 20.0
      publish_state: true
    robotiq_85_right_finger_tip_joint: 
      antiwindup: false
      d: 0.0
      i: 0.1
      i_clamp: 0.2
      p: 20.0
      publish_state: true
    robotiq_85_right_inner_knuckle_joint: 
      antiwindup: false
      d: 0.0
      i: 0.1
      i_clamp: 0.2
      p: 20.0
      publish_state: true
    robotiq_85_right_knuckle_joint: 
      antiwindup: false
      d: 0.0
      i: 0.1
      i_clamp: 0.2
      p: 20.0
